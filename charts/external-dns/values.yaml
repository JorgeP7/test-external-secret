# values-local.yaml
image:
  repository: registry.k8s.io/external-dns/external-dns  # Usa la oficial (sin fork por ahora)
  tag: v0.18.0   # o v0.18.0 para comparar

provider: fake   # ← ¡Clave! Cambia a fake para testing local

extraArgs:
  annotation-filter: 'ingress.indeed.com/external-dns notin (false),nginx.ingress.kubernetes.io/canary notin (true)'
  log-level: debug   # Para ver más detalles
  dry-run: ""        # Opcional: pon true primero para solo ver "would create/delete", sin "apply"
  txt-owner-id: local-test-cluster
  txt-prefix: 'owner-%{record_type}.'
  domain-filter: 0

sources:
  - service
  - ingress

policy: sync
interval: 30s          # Más rápido para testing local
triggerLoopOnEvent: true
logLevel: debug        # Para ver todo lo que hace
dryRun: false          # Puedes poner true primero para ver sin "aplicar"

metrics:
  enabled: true