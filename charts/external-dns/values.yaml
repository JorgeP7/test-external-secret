# values.yaml (para testing local con provider fake)

image:
  repository: harbor.indeed.tech/pure/external-dns
  tag: v0.19.0-indeed-0

interval: 1h
triggerLoopOnEvent: true
crd:
  create: true
sources:
  - crd
  - service
  - ingress
provider: fake   # ← Esto es clave y obligatorio en chart >=1.14/1.18

extraArgs:
  annotation-filter: 'ingress.indeed.com/external-dns notin (false),nginx.ingress.kubernetes.io/canary notin (true)'
  log-level: debug
  dry-run: ""          # Deja vacío para false; o pon "true" para modo simulación
  txt-owner-id: local-test-cluster
  txt-prefix: 'owner-%{record_type}.'
  domain-filter: example.local   # ← Corrige esto (string o lista)
  # O usa domainFilters si el chart lo soporta como top-level (mejor):
  # domainFilters:
  #   - example.local
  aws-api-retries: '3'
  aws-batch-change-size: '100'
  aws-zone-type: ''
  aws-zones-cache-duration: '24h'
  metrics-address: ':7979'
  managed-record-types:
    - A
    - CNAME
logLevel: debug      # Top-level para el chart (opcional si usas extraArgs)
dryRun: false

metrics:
  enabled: true

# Asegúrate de NO tener nada de AWS aquí (quita si existe):
# aws: {}